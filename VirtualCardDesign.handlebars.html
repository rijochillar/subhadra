<!DOCTYPE html>
<!-- saved from url=(0048)https://falconicsweb.in/bfcpin/virtual-card.html -->
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Card Design</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <style>
        *,
        :after,
        :before {
            box-sizing: border-box;
        }

        body,
        html,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        .h5,
        .h6,
        p,
        .lead,
        label,
        span,
        article,
        figure {
            margin: 0px;
            padding: 0px;
            text-rendering: optimizeLegibility;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        .pin_change_header {
            background: #30a9e4;
            padding: 20px 0px;
            background-repeat: no-repeat;
            background-position: center left 18px;
            background-size: 8px 15px;
        }

        .pin_change_header h4 {
            text-align: center;
            margin-bottom: 0px;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
        }

        input,
        button {
            -webkit-appearance: none;
            appearance: none;
        }

        input:focus {
            box-shadow: none;
            outline: none;
        }

        .img-fluid {
            max-width: 100%;
            display: block;
        }

        /*//view card*/

        .card-container {
            width: 100%;
            min-height: 100vh;
            min-height: -webkit-fill-available;
            background: #f4f4f4 url(../card-bg.png) no-repeat center top / 100% 440px;
        }

        .card-container .pin_change_header {
            background-color: transparent;
            margin-bottom: 26px;
        }

        .card-container .card-image {
            margin: 0 auto;
        }

        .details-container {
            margin-top: 65px;
            position: relative;
        }

        .card-details {
            position: relative;
            padding: 12px 18px;
        }

        .card-details label {
            display: inline-block;
            width: 100%;
            margin-bottom: 18px;
            font-weight: 400;
            color: #6a6a6a;
            font-size: 14px;
        }

        .card-details div {
            display: flex;
            align-items: center;
        }

        .card-details .textbox {
            padding: 12px;
            border-radius: 5px;
            background-color: #fff;
            height: 40px;
            border: 0px;
            flex-grow: 1;
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 3.36px;
            text-align: left;
            color: #000;
        }

        .card-details .textbox#cardHolderName,
        .card-details .textboxt#expiryDate {
            letter-spacing: 0px;
        }

        .card-details .textbox::placeholder {
            color: #000;
        }

        .card-details .copy {
            width: 48px;
            height: 48px;
            border-radius: 25px;
            box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.07), inset 0 4px 4px 0 rgba(255, 255, 255, 0.58);
            border: solid 1px #fff;
            background-color: rgba(249, 249, 231, 0.65);
            display: flex;
            align-items: center;
            margin-left: 12px;
            justify-content: center;
        }

        .card.submit_btn {
            margin: auto 18px;
            position: relative;
            padding: 20px 0px;
            bottom: auto;
        }

        .copy_msg {
            background: #0f1d4a;
            padding: 10px 20px;
            text-align: center;
            position: absolute;
            top: -52px;
            left: 0;
            right: 0;
            margin: 0 auto;
            width: fit-content;
            z-index: 2;
            color: #ffffff;
            font-size: 12px;
            display: none;
            border-radius: 5px;
            box-shadow: 0 0 5px 0 rgb(0 0 0 / 25%);
        }

        /*card verification*/

        .card-details-container {
            min-height: 100vh;
            width: 100%;
            height: -webkit-fill-available;
        }

        .card-details-container .form_div {
            height: 100%;
            min-height: 100vh;
            flex-direction: column;
            display: flex;
        }

        .card_body {
            padding: 25px;
        }

        .card_body .details-div {
            margin-bottom: 35px;
        }

        .card_body label {
            font-size: 18px;
            font-weight: normal;
            letter-spacing: -0.36px;
            color: #000;
            margin-bottom: 20px;
            display: block;
        }

        .input_div {
            display: flex;
        }

        .input_div>input {
            width: 50px;
            height: 50px;
            padding: 10px;
            border-radius: 5px;
            border: solid 1.5px #ccc;
            margin-left: 8px;
            text-align: center;
            color: #000;
            font-size: 33px;
            font-weight: bold;
        }

        .input_div>input:focus,
        .input_div>input:focus-visible {
            border: solid 1.5px #d9ec53;
            background-color: #f8fce1;
            outline: none;
        }

        .input_div>input:first-child {
            margin-left: 0px;
        }

        .input_div>select {
            padding: 10px;
            border-radius: 5px;
            border: solid 1.5px #ccc;
            text-align: center;
            font-size: 17px;
            font-weight: bold;
            color: #000;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background: transparent;
        }

        .input_div>select:focus,
        .input_div>select:focus-visible {
            border: solid 1.5px #d9ec53;
            background-color: #f8fce1;
            outline: none;
        }

        .input_div .date-control {
            width: 75px;
            height: 50px;
        }

        .input_div .year-control {
            width: 103px;
            height: 50px;
            margin-left: 12px;
        }

        .submit_btn {
            margin: 0px 25px;
            position: fixed;
            bottom: 30px;
            left: 0;
            right: 0;
        }

        .submit_btn .input-btn {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            background: #30a9e4;
            color: #fff;
            border: 0px;
            width: 100%;
            border-radius: 5px;
            padding: 19px 0px;
            display: block;
            -webkit-appearance: none;
            appearance: none;
        }

        .circular-progress {
            position: relative;
            margin: auto;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin-top: 20px;
        }

        .circular-progress svg {
            transform: rotate(270deg);
            -webkit-transform: rotate(270deg);
            overflow: visible;
        }

        .circular-progress circle {
            stroke-width: 3;
            fill: none;
            stroke-linecap: round;
            transition: 1s ease all;
            stroke-dashoffset: 0;
        }

        .circular-progress circle:nth-of-type(1) {
            stroke: #fff;
            stroke-width: 1.5px;
            fill: #fff;
        }

        .circular-progress circle:nth-of-type(2) {
            stroke: #30a9e4;
            stroke-dashoffset: 0;
        }

        .counter {
            color: #30a9e4;
            font-size: 14px;
            font-weight: bold;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 0;
            right: 0;
            margin: 0 auto;
            text-align: center;
        }

        .back_arrow {
            display: block;
            float: left;
            margin-left: 20px;
            background-size: contain;
            background-image: url(left-arrow.png);
            width: 10px;
            height: 19px;
            background-repeat: no-repeat;
            position: absolute;
        }

        @media (max-width: 420px) {
            .input_div>input {
                width: 42px;
                height: 42px;
            }
        }
    </style>
</head>

<body>
    <div class="card-container">
        <div class="pin_change_header">
            <h4 style="color:#0f1d4a;">BFC Pay Travel Buddy Details</h4>


        </div>
        <img height="300"src="https://s3.me-south-1.amazonaws.com/bfcp-cxportal-alb-uat.bfcpayments.com/images-mail/card-pin.png" class="img-fluid card-image">
        <div class="circular-progress">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" aria-labelledby="title" role="graphic">
                <circle cx="30" cy="30" r="30" stroke-dasharray="188" stroke-dashoffset="0"></circle>
                <circle cx="30" cy="30" r="30" id="pct-ind" stroke-dasharray="188" stroke-dashoffset="0"></circle>
            </svg>
            <span class="counter" id="countDownSec">102s</span>
        </div>
        <div class="details-container">
            <div class="copy_msg"></div>
            <div class="cardnumber-container card-details">
                <label for="cardNumber">Your Card Number</label>
                <div>

                    <input type="password" id="cardNumber" class="textbox" name="cardnumber" value="{{spaceCardNumber}}"
                        onkeypress="return isNumber(event)" disabled>

                    <a href="javascript:lockView(&#39;cardNumber&#39;)" id="cardNumberUnLock" class="copy"
                        style="display: none">
                        <img src="https://yap-assets.yappay.in/images/yappay-auth/copy.svg" alt="Un Lock Image"></a>

                    <a href="javascript:unlockView(&#39;cardNumber&#39;)" id="cardNumberLock" class="copy">
                        <img src="https://yap-assets.yappay.in/images/yappay-auth/lock.svg" alt="Lock Image"></a>

                </div>
            </div>

            <div class="username-container card-details">
                <label for="username">Name on your Card</label>
                <div>
                    <input type="text" id="cardHolderName" class="textbox" name="CardHolder" value="{{nameOnCard}}"
                        disabled>

                    <a href="javascript:copyTextFromElement(&#39;cardHolderName&#39;)" id="cardHolderNameUnLock"
                        class="copy">
                        <img src="https://yap-assets.yappay.in/images/yappay-auth/copy.svg" alt="Un Lock Image"></a>
                </div>
            </div>
            <div class="date-container card-details">
                <label for="expiryDate">Expiry Date of your Card</label>
                <div>
                    <input type="text" id="expiryDate" class=" textbox" name="expiryDate" value="{{modifiedExpiryDate}}"
                        onkeypress="return isNumber(event)" disabled>

                    <a href="javascript:copyTextFromElement(&#39;expiryDate&#39;)" id="expiryDateUnLock" class="copy">
                        <img src="https://yap-assets.yappay.in/images/yappay-auth/copy.svg" alt="Un Lock Image"></a>

                </div>
            </div>
            <div class="cvv-container card-details">
                <label for="cvv">CVV</label>
                <div>


                    <input type="password" id="cvv" class="textbox" name="cvv" value="{{cvv}}"
                        onkeypress="return isNumber(event)" disabled>

                    <a href="javascript:lockView(&#39;cvv&#39;)" id="cvvUnLock" class="copy" style="display: none">
                        <img src="https://yap-assets.yappay.in/images/yappay-auth/copy.svg" alt="Un Lock Image"></a>

                    <a href="javascript:unlockView(&#39;cvv&#39;)" id="cvvLock" class="copy">
                        <img src="https://yap-assets.yappay.in/images/yappay-auth/lock.svg" alt="Lock Image"></a>
                </div>

            </div>

            <!-- <div class="card submit_btn"><input class="input-btn" type="button" onclick="" value="Go to Home"></div> -->
        </div>
    </div>




    <script src="https://cdn.jsdelivr.net/clipboard.js/1.5.12/clipboard.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script type="text/javascript">
        function isNumber(evt) {
            evt = (evt) ? evt : window.event;
            var charCode = (evt.which) ? evt.which : evt.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            return true;
        }
        $('#cvvLock').click(() => {
            $('#cardNumber').prop('type', 'password')
            $('#cvv').prop('type', 'password')
            $('#cardNumberLock').show()
            $('#cardNumberUnLock').hide()

        })
        $('#cardNumberLock').click(() => {
            $('#cvv').prop('type', 'password')
            $('#cardNumber').prop('type', 'password')
            $('#cvvLock').show()
            $('#cvvUnLock').hide()

        })
        //Lock Function
        function lockView(elem) {
            var elem = elem;
            document.getElementById(elem).type = "password";
            document.getElementById(elem + 'Lock').style.display = "flex";
            document.getElementById(elem + 'UnLock').style.display = "none";
            copyTextFromElement(elem);

        }
        //Un Lock Function
        function unlockView(elem) {
            var elem = elem;
            document.getElementById(elem).type = "text";
            document.getElementById(elem + 'Lock').style.display = "none";
            document.getElementById(elem + 'UnLock').style.display = "flex";
        }
        //Copy Method
        async function copyTextFromElement(elementID) {
            let element = document.getElementById(elementID); //select the element
            let elementText = element.value; //get the text content from the element

            navigator.permissions.query({ name: "clipboard-write" }).then(async (result) => {
                if (result.state === "granted" || result.state === "prompt") {
                    await copyText(elementText);
                }
            }).catch((err)=>{
            })
            var labeltext = $(element).parent().parent().find('label').text();
            $('.copy_msg').text(labeltext + ' Copied Succesfully').fadeIn(800).fadeOut(2500);;
        }
        //Copy Function
        function copyText(text) {
            return new Promise(async (resolve, reject) => {
                try {
                    await navigator.clipboard.writeText(text);
                    resolve();
                }
                catch (err) {
                    reject()
                }

            })

        }
        

        //Timer Process
        let timeOutFunction;
        let countDownTimer;
        let setCountDown = function () {
            var timeOut = '{{timeOut}}';
            document.getElementById("countDownSec").innerHTML = timeOut + 's';

            //let countDownSeconds = timeOut;
            if (countDownTimer) {
                clearInterval(countDownTimer);
            }
            countDownTimer = setInterval(function () {
                document.getElementById("countDownSec").innerHTML = (timeOut--) + 's';
                timeOut = timeOut--;
                var $data_val = parseInt((timeOut / 120) * 100);
                //var $data_val = parseInt((360 / 100) * timeOut)
                var c = Math.PI * (30 * 2);
                const pctIndicator = $('#pct-ind');
                // const strokeDashOffsetValue = (1 - ($data_val / 100)) * (2 * 3.14 * 15); 
                const strokeDashOffsetValue = ((100 - $data_val) / 100) * c;
                pctIndicator.css("stroke-dashoffset", strokeDashOffsetValue);


                if (timeOut <= 0) {
                    clearInterval(countDownTimer);
                    closeIt();
                }
            }, 1000);
        };

        if (timeOutFunction) {
            clearTimeout(timeOutFunction);
        }
        setCountDown();



        //Close Function
        function closeIt() {
            if ('{{callBackFlag}}' !== 'N') {
                console.log("call back url disabled:::");
                window.location.href = '{{callbackUrl}}';
            } else {
                console.log("close event triggerd");
                var xhttp = new XMLHttpRequest();
                xhttp.open("GET", '/', true);
                xhttp.send();
                window.location.reload();
            }
        }
    </script>
</body>

</html>